<div class="inventory-form-page">
  <section class="form-hero">
    <div class="hero-content">
      <p class="eyebrow">Inventario inteligente</p>
      <h1>{{ pageTitle }}</h1>
      <p>
        Completa los datos clave del artículo para mantener al equipo alineado y con visibilidad en tiempo real.
      </p>
      <div class="hero-tags">
        <span>Tiempo estimado: 2 min</span>
        <span>Control total para administradores</span>
      </div>
    </div>
    <div class="hero-image">
      <img src="https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=900&q=80" alt="Inventario profesional" />
    </div>
  </section>

  <form [formGroup]="form" (ngSubmit)="submit()" class="inventory-form">
    <div class="form-grid">
      <article class="form-card">
        <h2>Datos principales</h2>
        <div class="fields-grid">
          <label [class]="getFieldClass('restaurantId')">
            <span>Sede operativa *</span>
            <select formControlName="restaurantId">
              <option *ngFor="let restaurant of restaurants" [value]="restaurant.id">
                {{ restaurant.name }} · {{ restaurant.city }}
              </option>
            </select>
          </label>

          <label [class]="getFieldClass('ingredientId')">
            <span>Ingrediente base *</span>
            <select formControlName="ingredientId">
              <option *ngFor="let ingredient of ingredients" [value]="ingredient.id">
                {{ ingredient.name }}
              </option>
            </select>
          </label>

          <label [class]="getFieldClass('inventoryId')">
            <span>Código de inventario</span>
            <input type="text" placeholder="Se genera automáticamente" formControlName="inventoryId" />
          </label>

          <label [class]="getFieldClass('nombre')">
            <span>Nombre del artículo *</span>
            <input type="text" placeholder="Ej. Tomate Roma" formControlName="nombre" />
          </label>

          <label [class]="getFieldClass('categoria')">
            <span>Categoría *</span>
            <select formControlName="categoria">
              <option value="">Seleccionar categoría</option>
              <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
            </select>
          </label>

          <label [class]="getFieldClass('cantidad')">
            <span>Cantidad *</span>
            <input type="number" min="0" formControlName="cantidad" />
          </label>

          <label [class]="getFieldClass('unitId')">
            <span>Unidad *</span>
            <select formControlName="unitId">
              <option *ngFor="let unit of units" [value]="unit.id">{{ unit.code }} · {{ unit.description }}</option>
            </select>
          </label>

          <input type="hidden" formControlName="unidad" />

          <label>
            <span>Descripción</span>
            <textarea rows="3" placeholder="Notas útiles para el equipo de cocina" formControlName="descripcion"></textarea>
          </label>

          <label>
            <span>Imagen de referencia (URL)</span>
            <input type="url" placeholder="https://..." formControlName="imagen" />
          </label>
        </div>
      </article>

      <article class="form-card">
        <h2>Control operativo</h2>
        <div class="fields-grid">
          <label [class]="getFieldClass('supplierId')">
            <span>Proveedor *</span>
            <select formControlName="supplierId">
              <option *ngFor="let supplier of suppliers" [value]="supplier.id">{{ supplier.name }}</option>
            </select>
          </label>

          <label [class]="getFieldClass('nivelReorden')">
            <span>Nivel de reorden *</span>
            <input type="number" min="0" formControlName="nivelReorden" />
          </label>

          <label>
            <span>Costo unitario (opcional)</span>
            <input type="number" min="0" step="0.01" formControlName="costoUnitario" />
          </label>

          <label>
            <span>Fecha de caducidad</span>
            <input type="date" formControlName="fechaExpiracion" />
          </label>

          <label>
            <span>Lote</span>
            <input type="text" placeholder="Ej. LOTE-1510-A" formControlName="lote" />
          </label>

          <label>
            <span>Estado</span>
            <select formControlName="estado">
              <option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
            </select>
          </label>

          <label class="full-width">
            <span>Notas y recomendaciones</span>
            <textarea rows="3" placeholder="Indicaciones especiales, almacenamiento, etc." formControlName="notas"></textarea>
          </label>
        </div>
      </article>
    </div>

    <footer class="form-actions">
      <button type="button" class="ghost" (click)="cancel()">Cancelar</button>
      <button type="submit" class="primary">{{ ctaLabel }}</button>
    </footer>
  </form>
</div>

