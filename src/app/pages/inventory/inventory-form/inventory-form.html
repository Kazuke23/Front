<div class="container-page">
  <!-- Header -->
  <div class="form-header">
    <button class="back-button" (click)="cancel()">
      <span class="back-icon">â†</span>
      Volver
    </button>
    <h1 class="form-title">ğŸ“¦ {{ isEditMode ? 'Editar Inventario' : 'Crear Nuevo ArtÃ­culo de Inventario' }}</h1>
    <p class="form-subtitle">{{ isEditMode ? 'Modifica la informaciÃ³n del artÃ­culo de inventario' : 'Completa el formulario para crear un nuevo artÃ­culo de inventario' }}</p>
  </div>

  <!-- Formulario -->
  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form">
      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ“</span>
          Nombre del ArtÃ­culo
        </label>
        <input
          type="text"
          formControlName="ingredient_name"
          placeholder="Ej. Tomate Roma, Sal marina"
          class="form-input"
        />
        <div class="form-error" *ngIf="form.get('ingredient_name')?.invalid && form.get('ingredient_name')?.touched">
          El nombre del artÃ­culo es requerido
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ”¢</span>
          Cantidad
        </label>
        <input
          type="number"
          min="0"
          step="0.01"
          formControlName="quantity"
          placeholder="Ej. 10, 500"
          class="form-input"
        />
        <div class="form-error" *ngIf="form.get('quantity')?.invalid && form.get('quantity')?.touched">
          La cantidad es requerida y debe ser mayor a 0
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ“</span>
          Unidad
        </label>
        <select formControlName="unit_id" class="form-select">
          <option value="">Seleccionar unidad</option>
          <option *ngFor="let unit of units" [value]="unit.id">
            {{ unit.code }}
          </option>
        </select>
        <div class="form-error" *ngIf="form.get('unit_id')?.invalid && form.get('unit_id')?.touched">
          La unidad es requerida
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸ·ï¸</span>
          CategorÃ­a
        </label>
        <select formControlName="category" class="form-select">
          <option value="">Seleccionar categorÃ­a</option>
          <option *ngFor="let category of categories" [value]="category">
            {{ category }}
          </option>
        </select>
        <div class="form-error" *ngIf="form.get('category')?.invalid && form.get('category')?.touched">
          La categorÃ­a es requerida
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">ğŸšš</span>
          Proveedor
        </label>
        <select formControlName="supplier_id" class="form-select">
          <option value="">Seleccionar proveedor</option>
          <option *ngFor="let supplier of suppliers" [value]="supplier.id">
            {{ supplier.name }}
          </option>
        </select>
        <div class="form-error" *ngIf="form.get('supplier_id')?.invalid && form.get('supplier_id')?.touched">
          El proveedor es requerido
        </div>
      </div>

      <div class="form-group">
        <label class="form-label">
          <span class="label-icon">âš ï¸</span>
          Nivel de Reorden
        </label>
        <input
          type="number"
          min="0"
          formControlName="reorder_level"
          placeholder="Cantidad mÃ­nima antes de reordenar"
          class="form-input"
        />
        <div class="form-error" *ngIf="form.get('reorder_level')?.invalid && form.get('reorder_level')?.touched">
          El nivel de reorden debe ser un nÃºmero vÃ¡lido
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="cancel()">
          Cancelar
        </button>
        <button type="submit" class="btn-save" [disabled]="form.invalid">
          <span class="save-icon">âœ“</span>
          {{ isEditMode ? 'Actualizar Inventario' : 'Guardar Inventario' }}
        </button>
      </div>
    </form>
  </div>
</div>
