<div class="header">
  <div class="header-text">
    <h1>Gestión de Ingredientes</h1>

    <div class="search-container">
      <i class="fas fa-search"></i>
      <input 
        type="text" 
        placeholder="Buscar ingrediente..."
        [(ngModel)]="searchTerm">
    </div>
  </div>

  <button class="btn-primary" (click)="goToCreate()">
    + Crear Ingrediente
  </button>
</div>

<div class="content-card" *ngIf="!loading">

  <div class="card-header">
    <h3>Lista de Ingredientes</h3>
  </div>

  <table class="ingredients-table">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Unidad</th>
        <th>Calorías</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>

      <!-- ✔ AQUI el arreglo filtrado -->
      <tr *ngFor="let ing of filteredIngredients">
        <td>{{ ing.name }}</td>

        <!-- Opcional: si luego quieres mostrar el nombre de unidad en lugar del id -->
        <td>{{ ing.default_unit_id }}</td>

        <td>{{ ing.calories_per_unit }}</td>

        <td class="actions">
          <i class="fas fa-edit edit-icon" (click)="goToEdit(ing.id)"></i>
          <i class="fas fa-trash delete-icon" (click)="deleteIngredient(ing.id)"></i>
        </td>
      </tr>

    </tbody>
  </table>

</div>
