<div class="container-page">
  <!-- Header -->
  <div class="form-header">
    <button class="back-button" (click)="cancel()">
      <span class="back-icon">â†</span>
      Volver
    </button>
    <h1 class="form-title">ğŸ›’ {{ isEditMode ? 'Editar Compra' : 'Crear Compras' }}</h1>
    <p class="form-subtitle">{{ isEditMode ? 'Modifica la informaciÃ³n de la compra' : 'Completa el formulario para crear una nueva compra' }}</p>
  </div>

  <!-- Formulario -->
  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form">
      <div class="form-section">
        <h2 class="section-title">Nueva Compra</h2>
        
        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸ“</span>
            Nombre
          </label>
          <input
            type="text"
            formControlName="name"
            placeholder="Nombre de la compra"
            class="form-input"
          />
          <div class="form-error" *ngIf="form.get('name')?.invalid && form.get('name')?.touched">
            El nombre es requerido
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸ“…</span>
            Fecha
          </label>
          <input
            type="date"
            formControlName="order_date"
            class="form-input"
          />
          <div class="form-error" *ngIf="form.get('order_date')?.invalid && form.get('order_date')?.touched">
            La fecha es requerida
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸ’°</span>
            Valor
          </label>
          <input
            type="number"
            min="0.01"
            step="0.01"
            formControlName="total_amount"
            placeholder="Valor de la compra"
            class="form-input"
          />
          <div class="form-error" *ngIf="form.get('total_amount')?.invalid && form.get('total_amount')?.touched">
            El valor es requerido y debe ser mayor a 0
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸšš</span>
            Proveedores
          </label>
          <select formControlName="supplier_id" class="form-select">
            <option value="">Seleccionar proveedor</option>
            <option *ngFor="let supplier of suppliers" [value]="supplier.id">
              {{ supplier.name }}
            </option>
          </select>
          <div class="form-error" *ngIf="form.get('supplier_id')?.invalid && form.get('supplier_id')?.touched">
            El proveedor es requerido
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">
            <span class="label-icon">ğŸª</span>
            Restaurantes
          </label>
          <select formControlName="restaurant_id" class="form-select">
            <option value="">Seleccionar restaurante</option>
            <option *ngFor="let restaurant of restaurants" [value]="restaurant.id">
              {{ restaurant.name }}
            </option>
          </select>
          <div class="form-error" *ngIf="form.get('restaurant_id')?.invalid && form.get('restaurant_id')?.touched">
            El restaurante es requerido
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="cancel()">
          Cancelar
        </button>
        <button type="submit" class="btn-save" [disabled]="form.invalid">
          <span class="save-icon">âœ“</span>
          {{ isEditMode ? 'Actualizar Compra' : 'Guardar compra' }}
        </button>
      </div>
    </form>
  </div>
</div>
